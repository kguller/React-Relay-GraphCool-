"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var lodashDebounce = require("lodash/debounce");
function debounce(wait, options) {
    if (wait === void 0) { wait = 500; }
    return function (target, key, descriptor) {
        var functionToDebounce = descriptor.value;
        // prevents IE11 recursion error
        var definingProperty = false;
        // tslint:disable no-invalid-this
        return {
            configurable: true,
            get: function () {
                if (definingProperty || this === target.prototype || this.hasOwnProperty(key)) {
                    return functionToDebounce;
                }
                var boundFunction = lodashDebounce(functionToDebounce, wait, options);
                definingProperty = true;
                Object.defineProperty(this, key, {
                    value: boundFunction,
                    configurable: true,
                    writable: true,
                });
                definingProperty = false;
                return boundFunction;
            },
        };
        // tslint:enable
    };
}
exports.default = debounce;
